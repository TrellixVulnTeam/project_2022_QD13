<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>허정원 포트폴리오</title>
    <link rel="stylesheet" href="assets/css/main.css">
   
</head>
<body>
    <div id="wrap">
      <div class="intro">
          <div class="intro__textbox">
            <h1 class="intro__title">
              <span>Hi, nice</span> 
              <span>to see</span>
              <span>you here</span>
            </h1>
          </div>
          <div class="intro__cover"></div>
      </div>
      <header>
        <a href="javascript:;" class="logo">뉴턴그룹</a>
        <div class="gnb">
          <a href="javascript:;">
            <span></span>
            <span></span>
            <span></span>
          </a>
        </div>
        <div class="family">
          <a href="javascript:;">Newturnfilm</a>
          <a href="javascript:;">Vava village</a>
          <a href="javascript:;">Webart</a>
        </div>
        <div class="sns">
          <a href="javascript:;" class="youtube">
            <span>PLAY! NEWTURN</span>
          </a>
          <a href="javascript:;" class="fb">
            <span>LIKE</span>
          </a>
          <a href="javascript:;" class="blog">
            <span>OUT STORY</span>
          </a>
          <a href="javascript:;" class="insta">
            <span>#^^</span>
          </a>
        </div>
        <div class="project">
          <a href="javascript:;">
            <span></span>
            PROJECT REQUEST
          </a>
        </div>
      </header>
      <nav>
        <a href="javascript:;" class="nav_close">
          <img src="./images/icon_close_w.png" alt="닫기버튼">
        </a>
        <ul class="menu_list">
          <li class="active">
            <a href="javascript:;">
              <span>01</span>
              <span>MAIN</span>
            </a>
          </li>
          <li>
            <a href="javascript:;">
              <span>02</span>
              <span>ABOUT US</span>
            </a>
          </li>
          <li>
            <a href="javascript:;">
              <span>03</span>
              <span>WORKS</span>
            </a>
          </li>
          <li>
            <a href="javascript:;">
              <span>04</span>
              <span>NEWS</span>
            </a>
          </li>
          <li>
            <a href="javascript:;">
              <span>05</span>
              <span>AWARD</span>
            </a>
          </li>
          <li>
            <a href="javascript:;">
              <span>06</span>
              <span>CONTACT</span>
            </a>
          </li>
        </ul>
        <ul class="family_list">
          <li>
            <a href="javascript:;">NEWTURN FILM</a>
          </li>
          <li>
            <a href="javascript:;">VAVA VILLAGE</a>
          </li>
          <li>
            <a href="javascript:;">WEB ART</a>
          </li>
          <li>
            <a href="javascript:;">PROJECT REQUEST　프로젝트 의뢰</a>
          </li>
        </ul>
        <footer>
          <span class="tel">+82(0)2 3448 5991</span>
          <span class="tel">FAX. +82(0)2 3448 5998</span>
          <p class="address">
            7F, JASMI BLDG 33, DOSAN-DAERO 27-GIL<br />
            GANGNAM-GU, SEOUL, KOREA 
          </p>
        </footer>
      </nav>
      <main>
        <div class="slider_content">
          <div class="slider_inner">
            <div class="slider_text">
              <div class="slider_title">
                <a href="javascript:;">
                  <em>iloom PLACER Online Showroom</em>
                </a>
              </div>
              <div class="slider_progress">
                <div class="progress"></div>
              </div>
              <div class="slide_desc">
                <div class="slider_client">
                  <p class="slider_client-font">
                    <em class="slider_client-name"></em>
                    <em class="slider_client-product"></em>
                  </p>
                  <span class="slider_client-day"></span>
                </div>
              </div>
            </div>

            <div class="slider_btn">
              <a href="javascript:;" class="slider_prev"></a>
              <a href="javascript:;" class="slider_next"></a>
            </div> 
            <div class="slider-pagenation">
              <span class="slide-current">01</span> 
              <span class="slide-total"></span>
            </div>
          </div>
        </div>
        <div class="swiper mySwiper">
          <div class="swiper-container">
            <div class="swiper-wrapper">
              <div class="swiper-slide" data-color="white">
                <a href="javascript:;">
                  <video id="mainvideo10" autoplay="autoplay" loop="" muted="" playsinline="" preload="metadata" poster="../assets/images/visual_casamia.jpg?ver=0" >
                    <source src="../assets/video/casamia.mp4" type="video/mp4">
                  </video>
                </a>  
              </div>
              <div class="swiper-slide" data-color="black">
                <a href="javascript:;">
                <video id="mainvideo10" autoplay="autoplay" loop="" muted="" playsinline="" preload="metadata" poster="/images/visual_iloom.jpg?ver=0">
                  <source src="../assets/video/bullsone.mp4" type="video/mp4">
                </video>
                </a>
              </div>
              
              <div class="swiper-slide" data-color="white">
                <a href="javascript:;">
                <video id="mainvideo10" autoplay="autoplay" loop="" muted="" playsinline="" preload="metadata" poster="/images/visual_lg_velvet_thum.jpg?ver=0" >
                  <source src="../assets/video/hodooenglish.mp4" type="video/mp4">
                </video>
                </a>
              </div>
              <div class="swiper-slide" data-color="white">
                <a href="javascript:;">
                <video id="mainvideo10" autoplay="autoplay" loop="" muted="" playsinline="" preload="metadata" poster="/images/visual_lg_velvet_thum.jpg?ver=0" >
                  <source src="../assets/video/pampers.mp4" type="video/mp4">
                </video>
                </a>
              </div>
            </div>

          </div>
        </div>
      </main>

    </div>
    <script src="assets/js/lib/jquery.js"></script>
    <script src="assets/js/lib/swiper.js"></script>
    <script src="assets/js/lib/gsap.min.js"></script> 
    <script>
      var _mainSwiperList;
      var _mainSwiperBtnNext;
      var _mainSwiperBtnPrev;
      var _realIndex;
      var _gnbClick;
      var _navCloseClick;

      function create(){
        _mainSwiperList = [
          {
            title: "shinsagecasa",
            desc: [ "Guud.com", "WEBSITE / MOBILESITE" ],
            date:"2018.09.14",
          },
          {
            title: "bullsone",
            desc: [ "bullsone.com", "WEBSITE / MOBILESITE" ],
            date:"2018.09.14",
          },
          {
            title: "hodooenglish",
            desc: [ "hodooenglish.com", "RESPONSIVESITE" ],
            date:"2018.09.14",
          },
          {
            title: "pampers",
            desc: [ "pampers.co.kr", "RESPONSIVESITE" ],
            date:"2018.09.14",
          },
          {
            title: "타이틀 5번입니다.",
            desc: [ "desc제목5", "WEBSITE / MOBILESITE" ], 
            date:"2018.09.14", 
          },
        ];
        
        _mainSwiperBtnNext = $( ".slider_next" );
        _mainSwiperBtnPrev = $( ".slider_prev" );
        _gnbClick = $( ".gnb" );
        _navCloseClick = $( "nav" ).find( ".nav_close" );
      }        

      function addEvent(){
        //첫 진입시 인트로 체크
        var checkCookie = getCookie("introCookie"); 
        if( checkCookie != 'introShow' ){
          introShow();
        }else{
          $( ".intro" ).remove();
        }


        mainSwiperInit().slideTo( 0 );
        progressShow();
        _mainSwiperBtnPrev.on( "click", mainSwiperBtnPrevClick );
        _mainSwiperBtnNext.on( "click", mainSwiperBtnNextClick );
        _gnbClick.on( "click", gnbCLickEvent );
        _navCloseClick.on( "click", _navCloseClickEvent );
      }

      var _counter = 0;
      var _countIndex;
      var _dataLength;
      function mainSwiperBtnPrevClick(){
        _counter--;
        _countIndex = _counter;
        mainSwiperInit().slideTo( _countIndex );
      }

      function mainSwiperBtnNextClick(){
        _counter++;
        _countIndex = _counter;
        mainSwiperInit().slideTo( _countIndex);

      }
    
      function setCookie(name, value, expiredays){
        var today = new Date();
        today.setDate(today.getDate() + expiredays);
        document.cookie = name + '=' + escape(value) + '; expires=' + today.toGMTString();
      }
        
      function getCookie(name) {
        var cookie = document.cookie;
        if (document.cookie != "") {
          var cookie_array = cookie.split("; ");
          for ( var index in cookie_array) {
            var cookie_name = cookie_array[index].split("=");
            if (cookie_name[0] == "introCookie") {
              return cookie_name[1];
            }
          }
        }
        return;
      }
      
      function introShow(){
        var intro = $( ".intro" );
        var introCover = $( ".intro__cover" );
        var masterTL = new TimelineMax({paused:true});
        function timeline1(){
          var tl1 = new TimelineMax();  
            tl1.to( introCover, 1.75, {  x: "0", ease:Circ.easeInOut, delay:2.8 })
            tl1.to( introCover, 1, {  x: "-100%", ease:Circ.easeInOut })
            return tl1;
        }
        function timeline2(){
          var tl2 = new TimelineMax();  
            tl2.to( intro, 1, {  x: "-100%", ease:Circ.easeInOut,  onComplete: setCookie("introCookie", 'introShow', 1) })
            return tl2;
        }
        masterTL.add(timeline1()).add(timeline2()).progress(1).progress(0).play();
      
      }

      function progressShow(){

       var progressBar =  $( ".progress" );
       var itemIndex = 0;
       gsap.set( progressBar, { width: 0 });
       gsap.to( progressBar, 10, { width:"100%", ease:Power0.easeInOut, onComplete: function(){
         console.log( itemIndex++ );
         mainSwiperInit().slideTo( _realIndex );
    
       }});
      }

      function mainSwiperInit(){
        var indexTitle  = $( ".slider_title" ).find( "em" );
        var indexDescName = $( ".slider_client-name" );
        var indexDescProduct = $( ".slider_client-product" );
        var indexDate = $( ".slider_client-day" );
        var indexDate;
        var wrapEle = $( "#wrap" );
        var slideLendth = $( ".slide-total" ); 
        var mySwiper = new Swiper ('.swiper-container', {
            slidesPerView : 'auto',
            // autoplay: true,
            slidesPerView: 'auto',
            initialSlide: 1,
            centeredSlides: true,
            loop: true,
            on: {
                init: function(){
                  _realIndex = this.realIndex;
                  indexTitle.text(  _mainSwiperList[_realIndex].title );
                  console.log(  _mainSwiperList[_realIndex].desc[0] ); 
                  indexDescName.text(  _mainSwiperList[_realIndex].desc[0] );
                  indexDescProduct.text(  _mainSwiperList[_realIndex].desc[1] );
                  indexDate.text( _mainSwiperList[_realIndex].date );

                  var index = this.realIndex; /* slide 1 => slides[1] */
                  var current_data = this.slides[index].dataset.color;

    
                  if( current_data == "black" ){
                    wrapEle.addClass( "black" );
                  }else{
                    wrapEle.removeClass( "black" );
                    console.log( "???" );
                  }

                 
                },
                activeIndexChange: function(){
                  _realIndex = this.realIndex;
                  indexTitle.text(  _mainSwiperList[_realIndex].title );
                  indexDescName.text(  _mainSwiperList[_realIndex].desc[0] );
                  indexDescProduct.text(  _mainSwiperList[_realIndex].desc[1] );
                  indexDate.text( _mainSwiperList[_realIndex].date );
           
                },
                realIndexChange: function () {
                  var index = this.realIndex; 
                  var current_data = this.slides[index].dataset.color;
                
                  if( current_data == "black" ){
                    wrapEle.addClass( "black" );
                  }else{
                    wrapEle.removeClass( "black" );
                  }

                  var slideCurrntNum = $( ".slide-current" );
                  slideCurrntNum.text( )


                },
            },
        });
        
        slideLendth.text( mySwiper.loopedSlides );

        return mySwiper;

      
      }

      function gnbCLickEvent(){
        $(this).css( "opacity", 0 );
        var nav = $( "nav" );
        nav.addClass( "open" );
        gsap.to( $( ".slider_inner"), 0.35, { left: "30%", ease:Power0.easeInOut})
      }

      function _navCloseClickEvent(){
        var closeBtn = $( this ).parent(); 
        var opengnb = $( ".gnb" ); 
        closeBtn.removeClass( "open" );
        opengnb.css( "opacity", 1 );
        gsap.to( $( ".slider_inner"), 0.35, { left: "15.5%", ease:Power0.easeInOut})
      }
      function init(){
        create();
        addEvent();
      }

      $(document).ready( function(){
        init();
      })
    
    </script>
</body>
</html>